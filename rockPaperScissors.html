<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rockPaperScissors</title>

    <style>
        #computer {
            width: 142px;
            height: 200px;
            background: url('https://en.pimg.jp/023/182/267/1/23182267.jpg') no-repeat 0 0;
        }
    </style>
</head>
<body>
    <div id="computer">
        <img src="" alt="">
    </div>
    
    <div>
        <button id="rock" class="btn">ë°”ìœ„</button>
        <button id="scissors" class="btn">ê°€ìœ„</button>
        <button id="paper" class="btn">ë³´</button>
    </div>
    
    
    <script>
        var ì´ë¯¸ì§€ì¢Œí‘œ = '0';
        // ë”•ì…”ë„ˆë¦¬ ìë£Œêµ¬ì¡°
        var rockPaperScissors = {
            ë°”ìœ„: '0',
            ê°€ìœ„: '-142px',
            ë³´: '-284px'
        };

        //console.log(Object.entries(rockPaperScissors)); ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë°”ê¾¸ê¸°
        function ì»´í“¨í„°ì˜ì„ íƒ(ì´ë¯¸ì§€ì¢Œí‘œ) {
            return Object.entries(rockPaperScissors).find(function(v){
                return v[1] === ì´ë¯¸ì§€ì¢Œí‘œ; //trueì‹œ ì¢…ë£Œ
            })[0];
        }

        var interval;
        function intervalMaker(){
            interval = setInterval(function() {
                if (ì´ë¯¸ì§€ì¢Œí‘œ === rockPaperScissors.ë°”ìœ„) {
                    ì´ë¯¸ì§€ì¢Œí‘œ = rockPaperScissors.ê°€ìœ„;
                } else if(ì´ë¯¸ì§€ì¢Œí‘œ === rockPaperScissors.ê°€ìœ„) {
                    ì´ë¯¸ì§€ì¢Œí‘œ = rockPaperScissors.ë³´;
                } else {
                    ì´ë¯¸ì§€ì¢Œí‘œ = rockPaperScissors.ë°”ìœ„;
                }
                document.querySelector('#computer').style.background =
                    'url(https://en.pimg.jp/023/182/267/1/23182267.jpg) ' + ì´ë¯¸ì§€ì¢Œí‘œ + ' 0';
            }, 100);
        }
        intervalMaker();

    
        var ì ìˆ˜í‘œ = {
            ê°€ìœ„: 1,
            ë°”ìœ„: 0,
            ë³´: -1
        }

        document.querySelectorAll('.btn').forEach(function(btn){
            btn.addEventListener('click', function(){

                clearInterval(interval); //setInterval ë©ˆì¶”ê¸°
                setTimeout(function(){
                    intervalMaker();
                }, 1000);

                var myChoice = this.textContent;

                //ë¦¬íŒ©í† ë§
                var ë‚˜ì˜ì ìˆ˜ = ì ìˆ˜í‘œ[myChoice];
                var ì»´í“¨í„°ì ìˆ˜ = ì ìˆ˜í‘œ[ì»´í“¨í„°ì˜ì„ íƒ(ì´ë¯¸ì§€ì¢Œí‘œ)];
                var ì ìˆ˜ì°¨ = ë‚˜ì˜ì ìˆ˜ - ì»´í“¨í„°ì ìˆ˜; 
                if(ì ìˆ˜ì°¨ === 0) {
                    alert('ë¹„ê²¼ìŠµë‹ˆë‹¤.');
                } else if(ì ìˆ˜ì°¨ === -1 || ì ìˆ˜ì°¨ === 2 ) {
                    alert('ì´ê²¼ìŠµë‹ˆë‹¤!!ğŸ˜†');
                } else {
                    alert('ì¡ŒìŠµë‹ˆë‹¤ã… ã… ğŸ˜‚');
                }
            });
        });
        
        // ê°€ìœ„: 1, ë°”ìœ„: 0, ë³´: -1
        // ë‚˜\ì»´í“¨í„°    ê°€ìœ„   ë°”ìœ„    ë³´
        //        ê°€ìœ„   1 1    1 0   1 -1
        //        ë°”ìœ„   0 1    0 0   0 -1
        //          ë³´  -1 1   -1 0  -1 -1

    </script>
</body>
</html>